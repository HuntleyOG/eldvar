/* =========================================================
   ELDVAR UI â€” Modern, mobile-first, MMO-flavored
   No external libs. Keeps prior class hooks intact.
   ========================================================= */

/* ---------------------------
   THEME TOKENS & PREFERENCES
---------------------------- */
:root{
  /* Core palette */
  --bg: #0e0f12;
  --panel: #12141a;
  --panel-2: #161922;
  --panel-3: #0b1322;

  --accent: #77dd77;        /* soft pixel-green */
  --accent-2: #a0e0ff;      /* soft pixel-cyan */
  --accent-danger: #ff6b6b;
  --accent-warning: #ffcf6b;
  --accent-success: #7ded9b;

  --text: #e7e7ea;
  --muted: #a7a8b2;
  --muted-2: #8f92a1;

  --border: #232634;
  --border-soft: rgba(255,255,255,.12);
  --border-strong: rgba(255,255,255,.18);

  /* Shadows/FX */
  --ring-green: rgba(119,221,119,.18);
  --ring-cyan: rgba(160,224,255,.18);
  --glow: 0 0 0 rgba(0,0,0,0);

  /* Radii */
  --r-xs: 6px;
  --r-sm: 8px;
  --r-md: 10px;
  --r-lg: 12px;
  --r-xl: 14px;
  --r-2xl: 16px;

  /* Spacing */
  --space-1: 6px;
  --space-2: 8px;
  --space-3: 10px;
  --space-4: 12px;
  --space-5: 14px;
  --space-6: 16px;
  --space-7: 18px;
  --space-8: 20px;
  --space-9: 24px;

  /* Breakpoints */
  --bp-lg: 1100px;
  --bp-md: 860px;
  --bp-sm: 560px;

  color-scheme: dark;
}

@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* ---------------------------
   RESET / BASE
---------------------------- */
*{ box-sizing: border-box }
html, body { height: 100% }
html { scroll-behavior: smooth }
body{
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  text-rendering: optimizeLegibility;
}

/* Links */
a{ color: var(--accent-2); text-decoration: none; }
a:hover{ text-decoration: underline; }

/* Utilities */
.muted{ color: var(--muted); }
.badge{
  display:inline-flex; align-items:center; gap:6px;
  font-size: 12px; line-height:1; padding: 5px 8px;
  border:1px solid var(--border); border-radius: 999px;
  background: var(--panel-2); color: var(--text);
}

/* Pixel-ish headline without external fonts */
.pixel-title{
  letter-spacing: 1px;
  text-transform: uppercase;
  text-shadow: 0 1px 0 #000, 0 0 10px rgba(119,221,119,0.2);
}

/* ---------------------------
   APP LAYOUT
---------------------------- */
.app-shell{
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto; /* header, main, footer */
  background:
    repeating-linear-gradient(0deg, rgba(255,255,255,0.015), rgba(255,255,255,0.015) 2px, transparent 2px, transparent 4px),
    radial-gradient(1200px 600px at 20% -10%, rgba(119,221,119,0.08), transparent 60%),
    radial-gradient(800px 400px at 100% 0%, rgba(160,224,255,0.08), transparent 60%);
}

/* Only apply left margin if sidebar is present (desktop) */
.with-sidebar .app-shell { margin-left: 260px; }

.app-main{
  padding: var(--space-9) var(--space-9) calc(var(--space-9) * 2);
}

/* Header */
.app-header{
  position: sticky;
  top: 0;
  background: linear-gradient(180deg, rgba(18,20,26,0.95), rgba(18,20,26,0.85));
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px var(--space-6);
  z-index: 950;
}
.header-left{ display:flex; align-items:center; gap:10px }
.brand{
  display: inline-flex; align-items: center; gap: 8px;
  text-decoration: none; color: var(--text); font-weight: 700;
}
.brand-glyph{
  display:inline-grid; place-items:center;
  width:22px; height:22px;
  border:1px solid var(--border); border-radius:4px; background: var(--panel-2);
  box-shadow: 0 0 0 2px var(--ring-green) inset;
}
.header-nav a{
  text-decoration: none; color: var(--muted);
  margin-left: var(--space-6); padding: 8px 10px; border-radius: var(--r-sm);
}
.header-nav a:hover{ background: var(--panel-2); color: var(--text) }
.icon-btn{
  border: 1px solid var(--border);
  background: var(--panel-2);
  color: var(--text);
  padding: 6px 10px;
  border-radius: var(--r-sm);
  cursor: pointer;
}
.icon-btn:hover{ filter: brightness(1.1) }

/* Footer */
.app-footer{
  border-top: 1px solid var(--border);
  background: var(--panel);
  padding: var(--space-6) var(--space-9);
  display: flex; justify-content: space-between; align-items: center;
  color: var(--muted);
}

/* Sidebar */
.app-sidebar{
  position: fixed; inset: 0 auto 0 0; width: 260px;
  background: var(--panel);
  border-right: 1px solid var(--border);
  padding: var(--space-6);
  display: flex; flex-direction: column; gap: var(--space-6);
  z-index: 1000; transition: transform .2s ease;
}
.sidebar-section{ display: grid; gap: var(--space-2) }
.sidebar-title{
  color: var(--muted); text-transform: uppercase;
  font-size: 12px; letter-spacing: 1px;
}
.nav-link{
  display: block; text-decoration: none; color: var(--text);
  padding: 8px 10px; border-radius: var(--r-sm); border: 1px solid transparent;
}
.nav-link:hover{ background: var(--panel-2); border-color: var(--border) }
.sidebar-footer{
  margin-top: auto; padding-top: var(--space-4);
  border-top: 1px solid var(--border); color: var(--muted);
}

/* Mobile sidebar behavior & backdrop */
#sidebar { transition: transform .2s ease; }
.backdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.45); backdrop-filter: blur(2px);
  opacity: 0; pointer-events: none; transition: opacity .15s ease;
  z-index: 900;
}

.sidebar-collapsed .app-sidebar{ transform: translateX(-100%); }
.sidebar-collapsed .app-shell{ margin-left: 0; }

/* Mobile (<= 860px) */
@media (max-width: 860px){
  body.with-sidebar:not(.sidebar-collapsed) #sidebar { transform: translateX(0) !important; }
  body.with-sidebar.sidebar-collapsed #sidebar { transform: translateX(-100%) !important; }
  body.with-sidebar:not(.sidebar-collapsed) .backdrop{ opacity: 1; pointer-events: auto; }
  .app-shell{ margin-left: 0 !important; }
  .app-header{ position: sticky; top: 0 }
}

/* ---------------------------
   HERO / BANNERS
---------------------------- */
.hero{ position: relative; padding: var(--space-9) 0 var(--space-5); }
.hero-card{
  background: linear-gradient(180deg, #151822, #11131a);
  border: 1px solid var(--border);
  border-radius: var(--r-2xl);
  padding: var(--space-9);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), 0 0 0 2px rgba(119,221,119,0.07) inset;
}
.lead{ color: var(--muted); margin-top: 6px }

/* ---------------------------
   GRID / CARDS
---------------------------- */
.grid{
  display: grid;
  gap: var(--space-6);
  grid-template-columns: repeat(3, minmax(0, 1fr));
  margin-top: var(--space-7);
}
.card{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--r-xl);
  padding: var(--space-6);
}
.card-title{ margin: 0 0 6px; }

/* Responsive grids */
@media (max-width: 1100px){
  .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 860px){
  .grid{ grid-template-columns: 1fr; }
  body{ overflow-x: hidden }
}

/* ---------------------------
   BUTTONS & FORMS
---------------------------- */
.btn{
  display:inline-block; user-select:none;
  text-decoration:none; color: var(--text);
  background: var(--panel-2); border: 1px solid var(--border);
  padding: 10px 14px; border-radius: var(--r-md);
  transition: filter .15s ease, transform .05s ease, background .15s ease, border-color .15s ease;
}
.btn:hover{ filter: brightness(1.05) }
.btn:active{ transform: translateY(1px) }
.btn[disabled], .btn:disabled{
  opacity:.6; cursor:not-allowed; filter:none !important;
}
.btn.primary{
  background: rgba(119,221,119,0.12);
  border-color: rgba(119,221,119,0.35);
  box-shadow: 0 0 18px rgba(119,221,119,0.2);
}
.btn.danger{
  background: rgba(255,107,107,0.12);
  border-color: rgba(255,107,107,0.35);
  box-shadow: 0 0 18px rgba(255,107,107,0.18);
}

/* Inputs */
input[type=text], input[type=password], input[type=number], input[type=email], select, textarea{
  width:100%;
  background: var(--panel-3);
  border:1px solid var(--border-strong);
  border-radius: var(--r-md);
  padding:.6rem .7rem; color: var(--text);
}
input:focus, select:focus, textarea:focus{
  outline:none; border-color: rgba(160,224,255,.5);
  box-shadow: 0 0 0 2px rgba(160,224,255,.15);
}

/* Inline help */
small, .hint{ color: var(--muted); }

/* Alerts */
.alert{
  padding:10px 12px; border-radius:var(--r-md); border:1px solid;
}
.alert.error{ border-color:#6d2d2d; background:rgba(255,60,60,.08); color:#f4c6c6 }
.alert.success{ border-color:#2d6d3a; background:rgba(60,255,120,.08); color:#c6f4d0 }
.alert.info{ border-color:#2d4f6d; background:rgba(80,180,255,.08); color:#c6e6f9 }

/* Pill radio group (battle actions) */
.pill-group{ display:flex; gap:.5rem; flex-wrap:wrap; }
.pill-group input[type=radio]{ position:absolute; opacity:0; pointer-events:none; }
.pill-group label{
  display:inline-flex; align-items:center; padding:.45rem .8rem;
  border:1px solid var(--border-strong); border-radius:999px; background:var(--panel-2); cursor:pointer
}
.pill-group input[type=radio]:checked + label{
  border-color:#4d95ff; box-shadow:inset 0 0 0 1px rgba(77,149,255,.35); background:rgba(77,149,255,.12)
}

/* ---------------------------
   CHAT (global + messenger)
---------------------------- */
.chat-box{
  display:flex; flex-direction:column; gap:10px;
  border:1px solid var(--border); border-radius:var(--r-md);
  background: var(--panel-2); padding:10px;
}
.chat-log{
  height:360px; overflow:auto;
  background: var(--panel); border:1px solid var(--border);
  border-radius:var(--r-lg); padding:12px; display:flex; flex-direction:column; gap:6px;
  scroll-behavior: smooth;
}
.chat-line{ display:flex; gap:8px; position: relative; }
.chat-time{ color:var(--muted); font-size:12px; min-width:64px; }
.chat-user{ color:var(--accent-2); font-weight:600; }
.chat-body{ white-space:pre-wrap; word-break:break-word; }
.chat-more{
  margin-left:auto; border:1px solid var(--border); background:var(--panel-2);
  color:var(--muted); border-radius:var(--r-sm); padding:2px 8px; cursor:pointer; font-size:12px;
}
.chat-more:hover{ color:var(--text); filter:brightness(1.08); }
.chat-input{ display:flex; gap:8px; align-items:center; }
.chat-input input{
  flex:1; border:1px solid var(--border); background:var(--panel);
  color:var(--text); border-radius:var(--r-md); padding:12px 14px;
}

/* Messenger layout (optional) */
.messenger{
  display:flex; flex-direction:column; gap:12px;
  border:1px solid var(--border); border-radius:var(--r-lg);
  background: var(--panel-2); padding:12px;
}
.msg-divider{
  align-self:center; font-size:12px; color:var(--muted);
  border:1px solid var(--border); background: var(--panel-2);
  border-radius:999px; padding:2px 10px; margin:8px 0;
}
.msg-row{ display:flex; gap:10px; margin:2px 0; align-items:flex-end; }
.msg-row.other{ flex-direction:row; }
.msg-row.mine{ flex-direction:row-reverse; }
.avatar, .avatar-spacer{ width:32px; height:32px; flex:0 0 32px; }
.avatar{
  display:flex; align-items:center; justify-content:center;
  border-radius:50%; background: var(--panel-2);
  border:1px solid var(--border); color:var(--accent-2);
  font-size:12px; font-weight:700;
}
.msg-row.grouped .avatar{ display:none; }
.msg-row.grouped .avatar-spacer{ display:block; }
.avatar-spacer{ display:none; }
.bubble-col{ max-width:70%; display:flex; flex-direction:column; gap:2px; }
.name{ font-size:12px; color: var(--muted); margin:0 4px; }
.bubble{
  padding:10px 12px; border-radius:14px; line-height:1.35; word-break:break-word;
  border:1px solid var(--border); background: var(--panel-2);
}
.msg-row.mine .bubble{
  background: rgba(119,221,119,0.12);
  border-color: rgba(119,221,119,0.35);
}
.meta{
  font-size:11px; color:var(--muted);
  margin:0 4px 4px; align-self:flex-start;
}
.msg-row.mine .meta{ align-self:flex-end; }

/* ---------------------------
   CHARACTER / PROFILE
---------------------------- */
.character-main { padding-top: 0; }
.char-hero{ position: relative; margin: -8px -8px 16px; }
.char-banner{
  display:block; width:100%; height: 280px; object-fit: cover;
  border-radius: var(--r-lg); border: 1px solid var(--border); filter: saturate(0.96);
}
.char-overlay{ position: absolute; inset: 0; display:flex; align-items:center; justify-content:center; pointer-events:none; }
.char-card{
  pointer-events:auto; display:flex; gap: 18px; align-items:center;
  background: linear-gradient(180deg, rgba(18,20,26,.92), rgba(18,20,26,.88));
  border: 1px solid var(--border); border-radius: var(--r-2xl);
  padding: 18px 20px; box-shadow: 0 10px 40px rgba(0,0,0,.45); max-width: 720px;
}
.char-avatar-wrap{ position:relative; }
.char-avatar{
  width: 84px; height: 84px; border-radius: 50%; border: 2px solid var(--border);
  background: var(--panel); object-fit: cover;
}
.char-online-dot{
  position:absolute; right: 4px; bottom: 4px;
  width: 14px; height: 14px; border-radius: 50%; background: #6be989; border: 2px solid #0f1116;
}
.char-meta{ display:flex; flex-direction:column; gap: 6px; }
.char-name-row{ display:flex; align-items:center; gap:8px; }
.char-name{ margin:0; font-size: 1.6rem; }
.char-verified{
  display:inline-grid; place-items:center;
  width: 20px; height: 20px; border-radius:50%;
  background: rgba(160,224,255,.15); color: var(--accent-2);
  border: 1px solid var(--border); font-size: 13px;
}
.char-sub{ font-size: 0.95rem; }
.char-status{ font-style: italic; color: var(--muted); }
.char-actions{ display:flex; gap:8px; margin-top:6px; }

/* body grid beneath banner */
.char-body.grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
.char-list{ list-style:none; padding:0; margin:0; display:grid; gap:8px; }
.char-list li{
  display:flex; align-items:center; justify-content:space-between;
  border:1px solid var(--border); border-radius:var(--r-md);
  background: var(--panel-2); padding: 10px 12px;
}
.char-list li span{ color: var(--muted); }

@media (max-width: 1100px){ .char-body.grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 820px){
  .char-banner{ height: 220px; }
  .char-card{ max-width: 92%; }
  .char-body.grid{ grid-template-columns: 1fr; }
}

/* ---------------------------
   BATTLE / HP BARS (shared)
---------------------------- */
.hpbar{ height: 10px; background: #202a38; border-radius: 999px; overflow: hidden; border: 1px solid rgba(255,255,255,.08); }
.hpbar > div{ height: 100%; background: linear-gradient(90deg, #6aa8ff, #a6c8ff); transition: width .3s ease; }

/* ---------------------------
   WIKI STYLES (scoped)
---------------------------- */
.wiki-article{
  max-width: 1000px; margin: 0 auto;
  background: var(--panel); border: 1px solid var(--border);
  border-radius: var(--r-lg); padding: var(--space-9);
  box-shadow: 0 4px 18px rgba(0,0,0,0.35);
}
.wiki-article h1{
  font-size: 1.8rem; margin-top: 0; margin-bottom: 0.8em;
  border-bottom: 1px solid var(--border); padding-bottom: .3em;
}
.wiki-article h2{
  font-size: 1.4rem; margin-top: 1.5em; margin-bottom: .5em;
  border-bottom: 1px solid var(--border);
}
.wiki-article h3{ font-size: 1.1rem; margin-top: 1em; margin-bottom: .3em; }
.wiki-article p{ margin: .6em 0; }
.wiki-article ul, .wiki-article ol{ margin: .6em 1.2em; }
.wiki-toc{
  background: var(--panel-2); border: 1px solid var(--border);
  border-radius: var(--r-md); padding: var(--space-6) var(--space-7); margin-bottom: 20px;
}
.wiki-toc h3{ margin-top: 0; font-size: 1rem; color: var(--muted); }
.wiki-toc ul{ list-style: none; padding-left: 0; margin: 0; }
.wiki-toc li{ margin: 4px 0; }
.wiki-toc a{ color: var(--accent-2); }
.wiki-toc a:hover{ text-decoration: underline; }
.infobox{
  float: right; width: 280px; background: var(--panel-2);
  border: 1px solid var(--border); border-radius: var(--r-md);
  padding: var(--space-6); margin: 0 0 20px 20px; font-size: .9rem;
}
.infobox h4{
  margin: 0 0 8px; font-size: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 4px;
}
.infobox table{ width: 100%; border-collapse: collapse; }
.infobox td{ padding: 4px; border-bottom: 1px solid var(--border); }
.infobox td:first-child{ font-weight: 700; color: var(--muted); }
.wiki-article table{
  width: 100%; border-collapse: collapse; margin: 1em 0;
}
.wiki-article th, .wiki-article td{
  border: 1px solid var(--border); padding: 8px 10px;
}
.wiki-article th{
  background: var(--panel-2); color: var(--accent-2); text-align: left;
}
.wiki-article::after{ content: ""; display: block; clear: both; }

/* Hard table reset (safety) */
table { display: table; border-collapse: collapse; width: 100%; }
thead { display: table-header-group; }
tbody { display: table-row-group; }
tr    { display: table-row; }
th, td{ display: table-cell; vertical-align: middle; }

/* ---------------------------
   AUTH (MMO-style) SCREENS
---------------------------- */
.auth-wrap{
  min-height: calc(100vh - 120px);
  display:grid; place-items:center;
  position:relative; overflow:hidden;
  padding: var(--space-9) 0;
}
.auth-bg{
  position:absolute; inset:0; z-index:-1;
  background:
    radial-gradient(1400px 800px at 15% 0%, rgba(119,221,119,.10), transparent 60%),
    radial-gradient(1200px 900px at 100% 20%, rgba(160,224,255,.10), transparent 60%),
    linear-gradient(180deg, rgba(10,12,16,.9), rgba(10,12,16,.95)),
    url('/public/images/auth/eldvar-bg.jpg') center/cover no-repeat;
  filter: saturate(.95);
}
.auth-bg::after{
  content:""; position:absolute; inset:0;
  background: radial-gradient(1200px 600px at 50% -20%, rgba(255,255,255,.05), transparent 60%),
              radial-gradient(1200px 900px at 50% 120%, rgba(0,0,0,.6), rgba(0,0,0,.9) 60%);
  pointer-events:none;
}

/* floating sparkles */
.auth-sparkles{ position:absolute; inset:0; pointer-events:none; overflow:hidden; }
.sparkle{
  position:absolute; width:2px; height:2px; border-radius:50%;
  background: rgba(160,224,255,.85);
  box-shadow: 0 0 8px rgba(160,224,255,.9), 0 0 16px rgba(160,224,255,.6);
  animation: drift 12s linear infinite; opacity:.75;
}
.sparkle.g { background: rgba(119,221,119,.9); box-shadow:0 0 8px rgba(119,221,119,.9),0 0 16px rgba(119,221,119,.5) }
@keyframes drift {
  0%   { transform: translateY(100vh) translateX(-10vw) scale(.9); }
  100% { transform: translateY(-10vh) translateX(10vw)  scale(1); }
}

/* card */
.auth-card{
  width: 100%; max-width: 880px;
  display:grid; grid-template-columns: 1.2fr .8fr;
  border: 1px solid var(--border); border-radius: var(--r-2xl);
  background: linear-gradient(180deg, rgba(21,24,34,.96), rgba(17,19,26,.96));
  box-shadow: 0 12px 40px rgba(0,0,0,.55), 0 0 0 2px var(--ring-green) inset, 0 0 0 1px var(--ring-cyan) inset;
  overflow:hidden;
}
@media (max-width: 860px){ .auth-card{ grid-template-columns: 1fr; max-width: 560px; } }

/* left: promo / art */
.auth-hero-pane{
  position: relative; padding: 28px 24px;
  background:
    linear-gradient(180deg, rgba(15,22,34,.45), rgba(15,22,34,.15)),
    url('/public/images/auth/eldvar-art.jpg') center/cover no-repeat;
  border-right: 1px solid var(--border);
}
@media (max-width:860px){ .auth-hero-pane{ display:none } }
.auth-logo{
  display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:1px;
  text-transform:uppercase; color:var(--text);
}
.auth-logo .glyph{
  width:28px; height:28px; display:inline-grid; place-items:center;
  border:1px solid var(--border); border-radius:var(--r-sm);
  background: var(--panel-2); box-shadow: 0 0 0 2px var(--ring-green) inset;
}
.auth-list{ margin:18px 0 0; padding:0; list-style:none; display:grid; gap:10px; }
.auth-list li{ display:flex; gap:8px; align-items:flex-start; color: var(--muted); }
.auth-list .dot{
  width:8px; height:8px; border-radius:50%;
  background: linear-gradient(180deg, #8ee78e, #66cc66);
  box-shadow: 0 0 10px rgba(119,221,119,.5);
  margin-top:6px;
}

/* right: form */
.auth-form-pane{ padding: 28px 24px; }
.auth-title{ margin:0 0 6px; font-size: 1.5rem; }
.auth-sub{ color:var(--muted); margin: 0 0 16px }
.form-grid{ display:grid; gap:12px; }
.form-row{ display:grid; gap:8px; }

.field{
  display:flex; align-items:center; gap:10px;
  background: var(--panel-3);
  border:1px solid rgba(255,255,255,.15);
  border-radius: var(--r-lg);
  padding: 10px 12px;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.field:focus-within{
  border-color: rgba(160,224,255,.5);
  box-shadow: 0 0 0 2px rgba(160,224,255,.15);
}
.field input{ all: unset; color: var(--text); flex:1; }
.field .hint{ font-size: 12px; color: var(--muted); }

.auth-actions{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.link-muted{ color: var(--accent-2); text-decoration:none; opacity:.9 }
.link-muted:hover{ opacity:1; text-decoration: underline; }

.pixel-btn{
  appearance:none; cursor:pointer;
  padding: 10px 16px; border-radius: var(--r-md);
  border: 1px solid rgba(119,221,119,.45);
  background: linear-gradient(180deg, rgba(119,221,119,.18), rgba(119,221,119,.10));
  color: var(--text); font-weight: 700; letter-spacing:.4px;
  box-shadow: 0 0 18px rgba(119,221,119,.25), 0 0 0 1px rgba(119,221,119,.25) inset;
}
.pixel-btn:hover{ filter: brightness(1.06) }
.pixel-btn:active{ transform: translateY(1px) }

.auth-foot{ margin-top: 12px; color: var(--muted); font-size: .95rem; }
.auth-foot a{ color: var(--accent-2); }
.auth-foot a:hover{ text-decoration: underline }

/* Auth alerts reuse .alert styles above */

/* Tiny eye icon button inside field (optional) */
.eye{
  border:1px solid rgba(255,255,255,.15);
  background:#0f1726; color: var(--muted);
  border-radius:var(--r-sm); padding:4px 6px; cursor:pointer; font-size:12px;
}
.eye:hover{ color: var(--text) }

/* ============================
   GUILDS PAGE (scoped styles)
   ============================ */
.guilds-page{
  --g-gap: 14px;
  --g-border: var(--border, #232634);
  --g-panel: var(--panel, #12141a);
  --g-panel2: var(--panel-2, #161922);
  --g-text: var(--text, #e7e7ea);
  --g-muted: var(--muted, #a7a8b2);
  --g-acc: var(--accent, #77dd77);
  --g-acc2: var(--accent-2, #a0e0ff);
  color: var(--g-text);
}

/* Header / hero */
.guilds-page .hero-card{
  background: linear-gradient(180deg, #151822, #11131a);
  border: 1px solid var(--g-border);
  border-radius: 14px;
  padding: 18px;
  box-shadow: 0 8px 24px rgba(0,0,0,.38), 0 0 0 2px rgba(160,224,255,.06) inset;
}
.guilds-page .hero-title{
  margin: 0 0 6px;
  letter-spacing: .5px;
  text-transform: uppercase;
  text-shadow: 0 1px 0 #000, 0 0 10px rgba(160,224,255,.15);
}
.guilds-page .hero-sub{ color: var(--g-muted); margin: 2px 0 0; }

/* Toolbar: search + filters + actions */
.guilds-page .toolbar{
  display: grid;
  gap: var(--g-gap);
  grid-template-columns: 1fr auto auto;
  align-items: center;
  margin: 14px 0;
}
@media (max-width: 880px){
  .guilds-page .toolbar{
    grid-template-columns: 1fr;
  }
}
.guilds-page .search{
  display:flex; align-items:center; gap:8px;
  background: var(--g-panel2);
  border:1px solid var(--g-border);
  border-radius:12px; padding:10px 12px;
}
.guilds-page .search input{
  all: unset; color: var(--g-text); flex:1;
}
.guilds-page .filters{
  display:flex; gap:8px; flex-wrap:wrap;
}
.guilds-page .btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 12px; border-radius:10px;
  border:1px solid var(--g-border);
  background: var(--g-panel2);
  color: var(--g-text);
  text-decoration:none; cursor:pointer;
}
.guilds-page .btn.primary{
  border-color: rgba(119,221,119,.38);
  background: rgba(119,221,119,.12);
  box-shadow: 0 0 14px rgba(119,221,119,.22);
}
.guilds-page .btn:hover{ filter: brightness(1.06); }

/* Grid of guild cards */
.guilds-page .grid{
  display:grid; gap: var(--g-gap);
  grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (max-width: 1100px){ .guilds-page .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 720px){ .guilds-page .grid{ grid-template-columns: 1fr; } }

.guilds-page .guild-card{
  position:relative;
  background: var(--g-panel);
  border:1px solid var(--g-border);
  border-radius:14px; overflow:hidden;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.guilds-page .guild-card:hover{
  transform: translateY(-1px);
  border-color: rgba(160,224,255,.35);
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}

/* header row inside card */
.guilds-page .guild-head{
  display:flex; align-items:center; gap:12px;
  padding:12px 14px; border-bottom:1px solid var(--g-border);
  background: linear-gradient(180deg, rgba(20,24,34,.55), rgba(20,24,34,.15));
}
.guilds-page .guild-emblem{
  width:40px; height:40px; flex:0 0 40px; border-radius:8px;
  background: var(--g-panel2);
  border:1px solid var(--g-border);
  display:grid; place-items:center; font-weight:800; color: var(--g-acc2);
}
.guilds-page .guild-title{
  margin:0; font-size:1.05rem;
  display:flex; align-items:center; gap:8px; flex-wrap:wrap;
}
.guilds-page .tag{
  display:inline-block; font-size:12px; line-height:1;
  padding:4px 8px; border-radius:999px;
  border:1px solid var(--g-border);
  background: #0f1726; color: var(--g-muted);
}
.guilds-page .stat{
  margin-left:auto; display:flex; align-items:center; gap:6px;
  font-size:12px; color: var(--g-muted);
}
.guilds-page .dot{
  width:8px; height:8px; border-radius:50%;
  background: linear-gradient(180deg, #8ee78e, #66cc66);
  box-shadow: 0 0 10px rgba(119,221,119,.5);
}

/* body */
.guilds-page .guild-body{ padding:12px 14px; }
.guilds-page .desc{
  color: var(--g-muted);
  margin: 6px 0 10px;
}

/* meta row */
.guilds-page .meta{
  display:flex; flex-wrap:wrap; gap:8px; color: var(--g-muted);
  font-size:12px;
}
.guilds-page .badge{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px;
  border:1px solid var(--g-border);
  background: var(--g-panel2);
}

/* footer actions */
.guilds-page .guild-foot{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; padding:12px 14px; border-top:1px solid var(--g-border);
  background: linear-gradient(180deg, rgba(16,19,28,.25), rgba(16,19,28,.1));
}
.guilds-page .foot-actions{ display:flex; gap:8px; flex-wrap:wrap; }
.guilds-page .foot-hint{ color: var(--g-muted); font-size:12px; }

/* Empty / alerts */
.guilds-page .alert{
  padding:10px 12px; border-radius:10px; border:1px solid var(--g-border);
  background: var(--g-panel2); color: var(--g-text);
}
.guilds-page .alert.error{ border-color:#6d2d2d; background:rgba(255,60,60,.08) }
.guilds-page .alert.info{ border-color: rgba(160,224,255,.35); background: rgba(160,224,255,.08) }

/* Pagination / load more */
.guilds-page .pager{
  display:flex; justify-content:center; gap:10px; margin-top:14px;
}
.guilds-page .pager .btn{ min-width:110px; justify-content:center }

/* Create/Join modal scaffold (optional) */
.guilds-page .modal{
  position:fixed; inset:0; display:none; place-items:center; z-index:2000;
  background: rgba(0,0,0,.5); backdrop-filter: blur(2px);
}
.guilds-page .modal.open{ display:grid; }
.guilds-page .modal-card{
  width:min(640px, 92vw);
  background: var(--g-panel);
  border:1px solid var(--g-border);
  border-radius:14px; padding:14px;
  box-shadow: 0 18px 44px rgba(0,0,0,.55);
}
.guilds-page .field{
  display:flex; align-items:center; gap:10px;
  background: #0b1322; border:1px solid rgba(255,255,255,.15);
  border-radius: 10px; padding:10px 12px; margin:8px 0;
}
.guilds-page .field input,
.guilds-page .field textarea{
  all: unset; color: var(--g-text); flex:1;
}
.guilds-page .row{ display:flex; gap:10px; flex-wrap:wrap }
.guilds-page .row .btn{ flex:1 1 auto; justify-content:center }

/* ===========================
   Skills & Progress UI
   =========================== */

/* Container grid used on character.php */
.skill-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}
@media (max-width: 1100px) {
  .skill-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 700px) {
  .skill-grid { grid-template-columns: 1fr; }
}

/* Single skill card */
.skill-card {
  padding: 12px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--panel-2);
}
.skill-card .head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}
.skill-card .name {
  font-weight: 700;
}
.skill-card .lvl {
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  font-size: .85rem;
  line-height: 1.6;
}

/* XP progress bar (small, compact) */
.bar {
  height: 10px;
  background: #202a38;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.08);
}
.bar > div {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #6aa8ff, #a6c8ff);
  transition: width .35s ease;
}

/* Tiny helper row beneath the bar */
.skill-meta {
  margin-top: 4px;
  color: var(--muted);
  font-size: .9rem;
  display: flex;
  align-items: baseline;
  gap: 8px;
  white-space: nowrap;
}
.skill-meta .sep {
  opacity: .5;
}

/* Optional: badges consistent with your theme */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 8px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.06);
  border-radius: 999px;
  font-size: .85rem;
  line-height: 1.6;
}

/* ===========================
   Toasts (Level-Up etc.)
   =========================== */
.toast-wrap {
  position: fixed;
  top: 16px;
  right: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 9999;
}
.toast {
  background: rgba(26, 40, 70, .95);
  border: 1px solid rgba(255,255,255,.12);
  padding: 10px 12px;
  border-radius: 12px;
  box-shadow: 0 6px 20px rgba(0,0,0,.35);
  max-width: 320px;
}
.toast strong { color: #9fd267; }

/* Optional: subtle slide-in animation */
@keyframes toast-in {
  from { transform: translateY(-8px); opacity: 0; }
  to   { transform: translateY(0);    opacity: 1; }
}
.toast { animation: toast-in .25s ease-out; }

/* ===========================
   Action Pill Group (battle)
   =========================== */
.pill-group {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
}
.pill-group input[type=radio] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}
.pill-group label {
  display: inline-flex;
  align-items: center;
  padding: .45rem .8rem;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 999px;
  background: #0f1726;
  cursor: pointer;
  user-select: none;
}
.pill-group input[type=radio]:checked + label {
  border-color: #4d95ff;
  box-shadow: inset 0 0 0 1px rgba(77,149,255,.35);
  background: rgba(77,149,255,.12);
}

/* ===========================
   HP Bars (shared)
   =========================== */
.hpbar {
  height: 10px;
  background: #202a38;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.08);
}
.hpbar > div {
  height: 100%;
  background: linear-gradient(90deg, #6aa8ff, #a6c8ff);
  transition: width .3s ease;
}

/* ===========================
   Light theme (if applicable)
   =========================== */
:root.light .skill-card { background: var(--panel); }
:root.light .bar { background: rgba(0,0,0,.06); border-color: rgba(0,0,0,.08); }
:root.light .toast { background: rgba(255,255,255,.98); color: #1b2430; border-color: rgba(0,0,0,.08); }
